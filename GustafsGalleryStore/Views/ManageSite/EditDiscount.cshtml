@model GustafsGalleryStore.Models.ViewModels.DiscountViewModel
@{
    ViewData["Title"] = "Edit Discount Codes";
}
<div>
    <form asp-route-returnUrl="@ViewData["ReturnUrl"]" method="post">
        <div class="w3-half">
            <div class="form-group">
                <label asp-for="Code"></label>
                <input asp-for="Code" class="w3-input" id="code" />
                <a href="javascript:void(0);" class="w3-small" onclick="generateCode()">Generate Code</a>
            </div>
            <div class="form-group">
                <label asp-for="StartDate">Start Date</label>
                <input asp-for="StartDate" class="w3-input" type="date" />
            </div>
            <div class="form-group">
                <label asp-for="EndDate">End Date</label>
                <input asp-for="EndDate" class="w3-input" type="date" />
            </div>
            <div class="form-group">
                <label asp-for="Value">Value (£)</label>
                <input asp-for="Value" class="w3-input" type="number" min="0.00" step="0.01" />
            </div>
            <div class="form-group">
                <label asp-for="Percentage"></label>
                <input asp-for="Percentage" class="w3-input" type="number" min="0.00" max="100.00" step="0.01" />
            </div>
            <div class="form-group">
                <label asp-for="IsLive"></label>
                <input asp-for="IsLive" class="w3-input" type="checkbox"/>
            </div>
            <div class="hidden-group">
                <input hidden asp-for="Id" />
            </div>
            <button type="submit" class="w3-button w3-round w3-light-grey w3-block w3-margin-top" onclick="openModal('spin')"><i class="fas fa-save w3-margin-right"></i>Save</button>

        </div>
    </form>
</div>

<script>
    function generateCode() {

        var code = document.getElementById("code");
        code.value = uuidv4();

    }

    function uuidv4() {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
            return v.toString(16);
        });
    }
</script>